"use strict";(self["webpackChunkleaf_blog_front"]=self["webpackChunkleaf_blog_front"]||[]).push([[621],{9621:function(t,e,i){i.r(e),i.d(e,{default:function(){return C}});var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"home-div"}},[e("el-container",{staticClass:"home-con"},[e("el-header",{staticClass:"header-con"},[e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{xs:0,sm:10,md:10,lg:10,xl:10}},[e("div",{staticClass:"home-title"},[t._v("凌云博客")])]),e("el-col",{attrs:{xs:0,sm:1,md:4,lg:6,xl:8}},[e("div",{staticStyle:{height:"60px"}})]),e("el-col",{attrs:{xs:24,sm:13,md:10,lg:8,xl:6}},[e("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.$store.getters.getActiveIndex,mode:"horizontal","background-color":"#FFFFFF","text-color":"#343A40","active-text-color":"#1C60F3",router:""}},[e("el-menu-item",{attrs:{index:"/main"}},[t._v("首页")]),e("el-menu-item",{attrs:{index:"/message"}},[t._v("留言")]),t.$store.getters.getToken.token?t._e():e("el-menu-item",{attrs:{index:"/login"}},[t._v("登录/注册")]),t.$store.getters.getToken.token?e("el-submenu",{attrs:{index:"/user"}},[e("template",{slot:"title"},[t._v("我的账户")]),e("el-menu-item",{attrs:{index:"/user/userInfo"}},[t._v("个人资料")]),e("el-menu-item",{on:{click:t.logout}},[t._v("退出登录")])],2):t._e()],1)],1)],1)],1),e("el-main",{staticClass:"main-con"},[e("div",{staticClass:"testdiv"},[e("div",[e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{xs:24,sm:24,md:18,lg:18,xl:16}},[t.flag?e("router-view"):t._e()],1),e("el-col",{attrs:{xs:24,sm:24,md:16,lg:6,xl:8}},[e("div",[e("RankList")],1),e("div",[e("TimeLine")],1)])],1)],1)]),e("div",{staticClass:"bottom_div"},[e("div",{staticClass:"bottom_text"},[e("div",{staticClass:"span_text_div"},[e("span",{staticClass:"span_text"},[t._v("凌云博客")]),e("el-divider",{attrs:{direction:"vertical"}}),e("span",{staticClass:"span_text"},[t._v("关于本站")])],1),e("div",{staticClass:"span_text_div"},[e("span",{staticClass:"span_text"},[t._v("© 2023 - Ye Lingfa's blog")])]),e("div",{staticClass:"span_text_div"},[e("span",{staticClass:"span_text",on:{click:t.gotoBeiAn}},[t._v("闽ICP备2022015900号")])])])])])],1)],1)},a=[],n=(i(7658),function(){var t=this,e=t._self._c;return e("div",[t.isphone?t._e():e("div",{staticClass:"ranks_div"},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:!t.$store.getters.getRankList,expression:"!$store.getters.getRankList"}],staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("热门文章排行")])]),e("div",{staticClass:"item_div"},[e("div",t._l(t.$store.getters.getRankList,(function(s){return e("div",{key:s.id,staticClass:"text item",on:{click:function(e){return t.gotoArticleDetail(s.id)}}},[e("img",{staticStyle:{width:"20px",height:"20px","margin-top":"-10px"},attrs:{src:i(4721),alt:""}}),t._v(" "+t._s(s.articletitle)+" "),e("i",{staticClass:"el-icon-view",staticStyle:{"margin-left":"20px"}},[e("span",[t._v(" "+t._s(t.bigNumberTransform(s.review))+" ")])])])})),0)])])],1),t.isphone?e("div",{staticClass:"ranks_div_phone"},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:!t.$store.getters.getRankList.length,expression:"!$store.getters.getRankList.length"}],staticClass:"box-card box-card_phone"},[e("div",{staticClass:"clearfix_phone",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("热门文章排行")])]),e("div",{staticClass:"item_div_phone"},[e("div",t._l(t.$store.getters.getRankList,(function(s){return e("div",{key:s.id,staticClass:"text_phone item",on:{click:function(e){return t.gotoArticleDetail(s.id)}}},[e("img",{staticStyle:{width:"20px",height:"20px","margin-top":"-10px"},attrs:{src:i(4721),alt:""}}),t._v(" "+t._s(s.articletitle)+" "),e("i",{staticClass:"el-icon-view",staticStyle:{"margin-left":"20px"}},[e("span",[t._v(" "+t._s(t.bigNumberTransform(s.review))+" ")])])])})),0)])])],1):t._e()])}),r=[],o={name:"RankList",inject:["reload"],data(){return{isphone:!1,rankList:[]}},methods:{async getHotArticle(){const t=await this.$api.article.getHotArticle();200===t.data.code?this.$store.dispatch("asyncUpdatedRankList",t.data.data):this.$message.error("获取热门文章失败！请稍后重试")},async gotoArticleDetail(t){window.location.pathname!=="/articleDetail/"+t?(this.$router.push("/articleDetail/"+t),this.reload()):this.$message.info("你已经在看啦！")},computedWidth(){var t=window.document.body.clientWidth;this.isphone=t<500}},mounted(){this.getHotArticle(),this.computedWidth()},computed:{bigNumberTransform(){return function(t){const e=["","",""];let i=1e3,s=3,a="",n=1;while(t/i>=1)i*=10,s+=1;return s<=4?(e[0]=parseInt(t/1e3)+"",e[1]="千"):s<=8?(a=parseInt(s-4)/3>1?"千万":"万",n="万"===a?1e4:1e7,e[0]=t%n===0?parseInt(t/n)+"":parseFloat(t/n).toFixed(2)+"",e[1]=a):s<=16&&(a=(s-8)/3>1?"千亿":"亿",a=(s-8)/4>1?"万亿":a,a=(s-8)/7>1?"千万亿":a,n=1,"亿"===a?n=1e8:"千亿"===a?n=1e11:"万亿"===a?n=1e12:"千万亿"===a&&(n=1e15),e[0]=t%n===0?parseInt(t/n)+"":parseFloat(t/n).toFixed(2)+"",e[1]=a),t<1e3&&(e[0]=t+"",e[1]=""),e.join("")}}}},l=o,A=i(1001),c=(0,A.Z)(l,n,r,!1,null,null,null),d=c.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"timeline-div"},[e("div",{staticClass:"block"},[e("el-timeline",{staticClass:"timeline"},t._l(t.articleList,(function(i){return e("el-timeline-item",{key:i.id,staticClass:"timeline_item",attrs:{color:"#C353E5",timestamp:t.timePase(i.createtime),placement:"top"}},[e("el-card",{staticClass:"timeline_card"},[e("div",{on:{click:function(e){return t.gotoArticleDetail(i.id)}}},[e("h4",[t._v(t._s(i.articletitle))]),e("p",[t._v(" "+t._s(i.createbyName+" 提交于 "+i.createtime)+" ")])])])],1)})),1)],1)])},m=[],p={name:"TimeLine",inject:["reload"],data(){return{articleList:[]}},methods:{async initArticleList(){const t=await this.$api.article.getTimeArticle();200===t.data.code?this.articleList=t.data.data:this.$message.error("获取时间线失败！请稍后重试")},async gotoArticleDetail(t){window.location.pathname!=="/articleDetail/"+t?(this.$router.push("/articleDetail/"+t),this.reload()):this.$message.info("你已经在看啦！")}},mounted(){this.initArticleList()},computed:{timePase(){return function(t){var e=new Date(t),i=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return i+"/"+s+"/"+a}}}},v=p,u=(0,A.Z)(v,g,m,!1,null,null,null),h=u.exports,w={name:"MainPage",components:{RankList:d,TimeLine:h},data(){return{flag:!0}},methods:{setActiveIndex(){this.$store.dispatch("asyncUpdatedActiveIndex","/main")},reload(){this.flag=!1,this.$nextTick((()=>{this.flag=!0}))},gotoBeiAn(){window.location.href="https://beian.miit.gov.cn/"},async logout(){const t=await this.$api.user.logout();200===t.data.code?(this.$message.success("退出成功！"),window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("userInfo"),this.$store.dispatch("asyncUpdatedToken",{email:"",headimg:"",phonenumber:null,token:"",username:""}),this.$store.dispatch("asyncUpdatedActiveIndex","/login"),this.$router.push("/login")):(window.sessionStorage.removeItem("token"),this.$store.dispatch("asyncUpdatedToken",{email:"",headimg:"",phonenumber:null,token:"",username:""}),this.$message.error("退出失败！"))}},mounted(){},provide(){return{reload:this.reload}}},x=w,B=(0,A.Z)(x,s,a,!1,null,"19a0bbde",null),C=B.exports},4721:function(t){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=621.b2488f27.js.map